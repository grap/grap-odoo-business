=====================
Recurring Consignment
=====================

.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-grap%2Fgrap--odoo--business-lightgray.png?logo=github
    :target: https://github.com/grap/grap-odoo-business/tree/12.0/recurring_consignment
    :alt: grap/grap-odoo-business

|badge1| |badge2| |badge3| 

For more information about consigment see:
https://en.wikipedia.org/wiki/Consignment

This module manage recurring consignment: A product will allways be provided
by the same consignor and can not be provided by another way.

For other implementation of consigment you could see:

* [vendor_consignment_stock](https://github.com/OCA/purchase-workflow)


**Functionality**

TODO :
- basic user can only change location and email.
Partner Model

* Add a 'is_consignor' field on Partner;

Product Model

* Add a consignor_partner_id field (res.partner), indicating which partner
  provide the product;
* if consignor_partner_id is defined:
    * The product can not have seller_ids defined;
    * The product has a special VAT defined;

TODO :

- Ajouter le justificatif de commission dans le mail à envoyer.
  (surcharger account.invoice ?)

- Ajouter blocage dans product. Interdire le changement de consignor, si
  il y a un stock move associé au produit.
  
- Créer nouveau module:
    * recurring_consignment_sale_margin
    * recurring_consignment_invoice_margin
    * recurring_consignment_pos_margin

**Table of contents**

.. contents::
   :local:

Known issues / Roadmap
======================

* OK : Make impossible to unset / set **is_consignor** to a partner if it has been set.
* Make impossible to unset / set **consignor_partner_id** to a product if sale / purchase is done.
* Add a boolean an product to mention that the product is used for commission
* forbid that invoices have commission and non commission in lines
  in the same times.


* Try to fix account_invoice.py (french sentences)
* Check if account_voucher.py is still required
* Add test
* To fix noupdate = 0/1.
* 

* General Check

**V10 Roadmap**

* Full new API should let possible to remove duplicated code in
  product_product.py and product_template.py files. (on change system)


FIX ME, on dirait que ça se rajoute, les item sur les pricelist, qqch
chie dans la colle.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/grap/grap-odoo-business/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us smashing it by providing a detailed and welcomed
`feedback <https://github.com/grap/grap-odoo-business/issues/new?body=module:%20recurring_consignment%0Aversion:%2012.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* GRAP

Contributors
~~~~~~~~~~~~

* Julien WESTE
* Sylvain LE GAL (https://www.twitter.com/legalsylvain)

Maintainers
~~~~~~~~~~~

This module is part of the `grap/grap-odoo-business <https://github.com/grap/grap-odoo-business/tree/12.0/recurring_consignment>`_ project on GitHub.

You are welcome to contribute.
